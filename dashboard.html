<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Patient Dashboard</title>
<style>
:root{
  --bg:#0f1221;--card:#171b33;--surface:#0c1230;--ink:#e9ecff;--muted:#aeb8ff;--line:#2b3360;
  --accent:#59f1c4;--accent-2:#7df1ff;--danger:#ff6b6b;--warn:#ffd166;--ok:#2ee59d;--radius:16px;
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;background:
  radial-gradient(900px 600px at 110% -10%, #6ea0ff33, transparent 60%),
  radial-gradient(900px 600px at -10% 110%, #00ffc249, transparent 60%),
  var(--bg);
  color:var(--ink); font:16px/1.5 system-ui,-apple-system,"Segoe UI",Roboto,Arial;}
.layout{display:grid;grid-template-columns:260px 1fr;min-height:100%}
@media (max-width: 980px){ .layout{ grid-template-columns: 1fr } }
.sidebar{display:flex;flex-direction:column;gap:14px;padding:18px;border-right:1px solid var(--line);background:#0d1430}
.brand{display:flex;align-items:center;gap:10px;font-weight:800}
.badge-logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg, var(--accent), var(--accent-2));
  color:#00211a;display:grid;place-items:center;font-weight:900;box-shadow:0 10px 18px #00ffc244}
nav a{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;color:#cbd4ff;text-decoration:none;border:1px solid transparent}
nav a:hover, nav a[aria-current="page"]{background:#12193a;border-color:#2a3360;color:#fff}
.topbar{display:flex;align-items:center;gap:12px;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--line);background:#0e1634;position:sticky;top:0;z-index:2}
.search{display:flex;align-items:center;gap:10px;flex:1;max-width:600px;background:var(--surface);border:1px solid #32407a;border-radius:999px;padding:8px 12px}
.search input{border:none;outline:none;background:transparent;color:var(--ink);width:100%}
.chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid #2a3360;background:#0d1430;color:#cbd4ff;font-weight:600;text-decoration:none}
.logout{background:#1e2448;border:1px solid #2a3360;color:#e9ecff;padding:8px 12px;border-radius:10px;text-decoration:none}
.content{padding:20px;display:grid;gap:18px}
.cards{display:grid;gap:16px;grid-template-columns:repeat(4,minmax(160px,1fr))}
@media (max-width: 1100px){ .cards{ grid-template-columns: repeat(2, 1fr) } }
@media (max-width: 560px){ .cards{ grid-template-columns: 1fr } }
.card{background:color-mix(in oklab, var(--card) 92%, black);border:1px solid var(--line);border-radius:var(--radius);
  box-shadow:0 16px 30px #0006,inset 0 1px 0 #ffffff10;padding:16px}
.card h3{margin:0 0 8px;font-size:1rem;color:#cbd4ff}
.kpi{display:flex;align-items:baseline;gap:10px;font-weight:800;font-size:1.6rem;letter-spacing:.2px}
.kpi .sub{color:var(--muted);font-size:.95rem;font-weight:600}
.grid-2{display:grid;gap:18px;grid-template-columns:1.2fr 0.8fr}
.grid-2 .card{height:100%}
@media (max-width: 1100px){ .grid-2{ grid-template-columns: 1fr } }
table{width:100%;border-collapse:collapse}
th,td{padding:10px 8px;border-bottom:1px solid #253062;text-align:left;font-size:.95rem}
th{color:#9fb0ff;font-weight:700} tr:last-child td{border-bottom:none}
.status{display:inline-block;padding:4px 10px;border-radius:999px;font-weight:700;font-size:.85rem}
.s-ok{background:#0c2a20;color:#7bffd1;border:1px solid #134b3a}
.s-warn{background:#2b2308;color:#ffd166;border:1px solid #5e4a12}
.s-info{background:#0b1f33;color:#9bc9ff;border:1px solid #1f4069}
.list{display:grid;gap:12px;margin:0;padding:0;list-style:none}
.item{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;padding:10px;background:#0e1637;border:1px solid #283164;border-radius:12px}
.item strong{display:block}.item time{color:#a6b6ff;font-size:.9rem}
.btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;border:1px solid #2a3360;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#00211a;font-weight:800;text-decoration:none;box-shadow:0 10px 18px #00ffc244,inset 0 1px 0 #fff9}
.hint{color:var(--muted);font-size:.95rem}
</style>
</head>
<body>
  <div class="layout">
    <aside class="sidebar" aria-label="Main navigation">
      <div class="brand"><div class="badge-logo">UP</div><div>Unified Portal</div></div>
      <nav>
        <a href="#" aria-current="page">üè† Dashboard</a>
        <a href="#">üóìÔ∏è Appointments</a>
        <a href="prescription.html">üíä Prescriptions</a>
        <a href="messages.html">üí¨ Messages</a>
        <a href="alerts.html">üîî Alerts</a>
        <a href="settings.html">‚öôÔ∏è Settings</a>
      </nav>
    </aside>

    <section style="display:flex;flex-direction:column;min-width:0">
      <header class="topbar">
        <form class="search" role="search"><input placeholder="Search doctors, prescriptions, messages‚Ä¶" /></form>
        <div style="display:flex;gap:10px;align-items:center">
          <span id="who" class="chip">üë§ ‚Ä¶</span>
          <a id="logout" class="logout" href="#">Log out</a>
        </div>
      </header>

      <main class="content" aria-labelledby="page-title">
        <h1 id="page-title" style="margin:0 0 6px">Dashboard</h1>
        <p class="hint" style="margin:0 0 10px">Upcoming appointments, recent prescriptions, messages, and alerts at a glance.</p>

        <section class="cards" aria-label="At-a-glance metrics">
          <div class="card"><h3>Next appointment</h3>
            <div class="kpi">Aug 22, 10:30 AM <span class="sub">with Dr. Karim</span></div>
            <div style="margin-top:8px"><a class="btn" href="#">Join (when live)</a> <span class="status s-info">Telemedicine</span></div>
          </div>
          <div class="card"><h3>Open messages</h3>
            <div class="kpi">3 <span class="sub">unread</span></div>
            <div style="margin-top:8px"><a class="btn" href="#">View inbox</a></div>
          </div>
          <div class="card"><h3>Active prescriptions</h3>
            <div class="kpi">2 <span class="sub">current</span></div>
            <div style="margin-top:8px"><span class="status s-ok">Refills available</span></div>
          </div>
          <div class="card"><h3>Alerts</h3>
            <div class="kpi">1 <span class="sub">requires attention</span></div>
            <div style="margin-top:8px"><span class="status s-warn">Upcoming lab test</span></div>
          </div>
        </section>

        <section class="grid-2" aria-label="Appointments and Alerts">
          <div class="card" aria-labelledby="appt-head">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <h2 id="appt-head" style="margin:0;font-size:1.1rem">Upcoming Appointments</h2>
              <a class="btn" href="#">Schedule new</a>
            </div>
            <table role="table" aria-label="Upcoming appointments">
              <thead><tr><th>Date</th><th>Doctor</th><th>Type</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td><time datetime="2025-08-22T10:30">Aug 22, 10:30</time></td><td>Dr. Karim (Cardiology)</td><td>Video</td><td><span class="status s-info">Confirmed</span></td></tr>
                <tr><td><time datetime="2025-08-29T16:00">Aug 29, 4:00</time></td><td>Dr. Nabila (Dermatology)</td><td>Clinic</td><td><span class="status s-ok">Booked</span></td></tr>
              </tbody>
            </table>
          </div>

          <div class="card" aria-labelledby="alerts-head">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <h2 id="alerts-head" style="margin:0;font-size:1.1rem">Alerts</h2>
              <span class="hint">Latest first</span>
            </div>
            <ul class="list" role="list">
              <li class="item"><div><strong>Lab reminder</strong> <span class="status s-warn" style="margin-left:6px">Due in 2 days</span><div class="hint">Fasting blood panel scheduled.</div></div><time datetime="2025-08-20">Aug 20</time></li>
              <li class="item"><div><strong>New message from Dr. Karim</strong><div class="hint">‚ÄúPlease check your BP twice daily.‚Äù</div></div><time datetime="2025-08-18">Aug 18</time></li>
              <li class="item"><div><strong>Prescription expiring</strong> <span class="status s-warn" style="margin-left:6px">Action needed</span><div class="hint">Amoxicillin ends tomorrow.</div></div><time datetime="2025-08-17">Aug 17</time></li>
            </ul>
          </div>
        </section>

        <section class="grid-2" aria-label="Prescriptions and Messages">
          <div class="card" aria-labelledby="rx-head">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <h2 id="rx-head" style="margin:0;font-size:1.1rem">Recent Prescriptions</h2>
              <a class="btn" href="#">Order meds</a>
            </div>
            <table role="table" aria-label="Recent prescriptions">
              <thead><tr><th>Date</th><th>Medication</th><th>Prescriber</th><th>Refills</th></tr></thead>
              <tbody>
                <tr><td><time datetime="2025-08-15">Aug 15</time></td><td>Amoxicillin 500mg</td><td>Dr. Karim</td><td><span class="status s-warn">0 left</span></td></tr>
                <tr><td><time datetime="2025-08-05">Aug 05</time></td><td>Loratadine 10mg</td><td>Dr. Nabila</td><td><span class="status s-ok">2 left</span></td></tr>
              </tbody>
            </table>
          </div>

          <div class="card" aria-labelledby="msg-head">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <h2 id="msg-head" style="margin:0;font-size:1.1rem">Messages</h2>
              <a class="btn" href="#">New message</a>
            </div>
            <ul class="list">
              <li class="item" tabindex="0"><div><strong>Dr. Karim</strong><div class="hint">Please upload your last BP readings.</div></div><time datetime="2025-08-17T09:30">09:30</time></li>
              <li class="item" tabindex="0"><div><strong>System</strong><div class="hint">Your appointment on Aug 22 is confirmed.</div></div><time datetime="2025-08-16T18:10">Yesterday</time></li>
              <li class="item" tabindex="0"><div><strong>Pharmacy</strong><div class="hint">Loratadine is ready for pickup.</div></div><time datetime="2025-08-15T14:00">Aug 15</time></li>
            </ul>
          </div>
        </section>
      </main>
    </section>
  </div>

<script>
const USER_KEY='UPPT_USER';
const SESSION_KEY='UPPT_SESSION';

// Guard: require session
const sess = JSON.parse(localStorage.getItem(SESSION_KEY) || 'null');
const user = JSON.parse(localStorage.getItem(USER_KEY) || 'null');
if(!sess || !user){ location.replace('./login.html'); }

// Personalize & logout
document.getElementById('who').textContent = `üë§ ${user.first || 'User'} ${user.last || ''}`.trim();
document.getElementById('logout').addEventListener('click', (e)=>{
  e.preventDefault();
  localStorage.removeItem(SESSION_KEY);
  location.href = './login.html';
});
</script>
</body>
</html>
